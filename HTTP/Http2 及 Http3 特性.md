### 一、HTTP/1.1的缺陷

1. 高延迟 -- 带来页面加载速度的降低
   - 网络延迟问题主要由于队头阻塞，导致带宽无法被充分利用
2. 无状态特性 -- 带来的巨大 HTTP 头部
3. 明文传输 -- 带来的不安全性
4. 不支持服务器推送消息



### 二、HTTP/2 新特性

> HTTP/2 是现行 HTTP 协议（HTTP/1.x）的替代，但它不是重写，HTTP 方法/状态码/语义都与 HTTP/1.x 一样。**HTTP/2 基于 SPDY，专注于性能，最大的一个目标是在用户和网站间只用一个连接**

**HTTP/2 新特性**：

- 二进制传输
  - HTTP/2 将请求和响应数据分割为更小的帧，并且它们采用二进制编码
  - 多个帧之间可以乱序发送，根据帧首部的流标识可以重新组装
- Header 压缩
  - 在客户端和服务器端使用“首部表”来跟踪和存储之前发送的键-值对，对于相同的数据，不再通过每次请求和响应发送
  - 首部表在 HTTP/2 的连接存续期内始终存在，由客户端和服务器共同渐进地更新
  - 每个新的首部键-值对要么被追加到当前表的末尾，要么替换表中之前的值
- 多路复用
  - 同个域名只通过一个 TCP 连接就可以传输所有的请求数据
- Server Push
  - 服务端可以主动推送消息，客户端也有权利选择是否接收
- 提高安全性
  - “事实上”的 HTTP/2 是加密的，互联网上通常所能见到的 HTTP/2 都是使用 "https” 协议名，跑在 TLS 上面
  - “h2" 表示加密的 HTTP/2，“h2c” 表示明文的 HTTP/2



### 三、HTTP/3 新特性

#### 1、HTTP/2 的缺点

- TCP 以及 TCP+TLS 建立连接的延时
- TCP 的队头阻塞并没有彻底解决

#### 2、HTTP/3 简介

QUIC 协议是基于 UDP 协议的，“HTTP over QUIC” 就是 HTTP 协议的下一个大版本，HTTP/3

#### 3、QUIC 新功能

- 实现了类似 TCP 的流量控制、传输可靠性的功能
- 实现了快速握手功能
- 集成了 TLS 加密功能
- 多路复用，彻底解决 TCP 中队头阻塞的问题